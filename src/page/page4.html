<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="../../assets/css/header.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }


        header {
            width: 100%;
            height: 183px;
            /* background-color: #030301; */
            background-color: #fff;
            box-shadow: 0px 4px 20px #00000040;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #141414;
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            width: 100%;
        }

        .container {
            height: calc(100% - 205px);
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 20px;
            padding: 10px;
        }

        .row {
            display: flex;
            gap: 10px;
            flex: 1;
            
        }

        .row div {
            flex: 1;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .row div p {
            margin: 10px 0;
        }

        .sub-section {
            display: flex;
            gap: 10px;
            width: 100%; /* 부모 요소에 맞게 너비 조정 */
            padding-left: 10px;
            padding-right: 10px;
        }

        
.sub-section-item {
    flex: 1; /* 모든 항목이 동일한 너비를 가짐 */
    background-color: #1c1c1c;
    border-radius: 8px; /* 전체 박스 모서리를 둥글게 */
    text-align: center;
    padding: 0; /* 내부 간격 제거 */
    overflow: hidden; /* 내부 요소가 박스를 넘치지 않도록 */
    border: 1px solid #1c1c1c; /* 외부 테두리와 동일한 색상 */
}

.sub-section-title {
    font-weight: bold;
    padding: 10px 5px;
    background-color: #3A3A3A; /* 제목 배경 */
    color: #fff; /* 제목 텍스트 색상 */
    border-bottom: 1px solid #1c1c1c; /* 아래쪽 구분선 */
    border-radius: 0; /* 둥근 모서리 제거 */
}

.sub-section-value {
    padding: 10px 5px;
    background-color: #1c1c1c; /* 값 배경 */
    color: #d3d3d3; /* 값 텍스트 색상 */
    border-radius: 0; /* 둥근 모서리 제거 */
}

.table-container {
            background-color: #1c1c1c;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            border: 0px solid #3C3C3C;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            
        }

        table th,
        table td {
            border: 1px solid #3a3a3a;
            padding: 10px;
            text-align: center;
            color: #d3d3d3;

            
        }

        table>tbody>tr:nth-child(even) {
            background: #3C3C3C;
        }

        .tree-effect-container {
            display: flex;
            gap: 10px;
            align-items: center;
            background-color: #3C3C3C;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        .tree-image {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }

    
    </style>
</head>
<body>
    <div class="header">
        <!-- 상단 로그아웃 및 메인화면 -->
        <div class="top-bar">
            <button id="darkModeToggle">
                <img src="../assets/image/다크모드.svg" alt="메인 일러스트" class="top-bar-img">
            </button>
            <button onclick="location.href='#';">
                <img src="../../assets/image/홈.svg" alt="메인 일러스트" class="top-bar-img">
            </button>
            <button onclick="location.href='#';">
                <img src="../assets/image/메뉴숨기기.svg" alt="메인 일러스트" class="top-bar-img">
            </button>
            <button onclick="location.href='#';">
                <img src="../../assets/image/나가기.svg" alt="메인 일러스트" class="top-bar-img">
            </button>
        </div>

        <!-- 네비게이션 바 -->
        <div class="nav-bar">
            <!-- 로고 -->
            <div class="comnLogo">
                <img src="../../assets/image/메인%20일러스트.svg" alt="로고">
            </div>

            <!-- 그룹 선택 -->
            <div class="group-select">
                <label for="plantGriId">그룹선택 :</label>
                <select id="plantGriId">
                    <option>전체</option>
                    <option>TEST1</option>
                    <option>TEST2</option>
                    <option>TEST3</option>
                    <option>TEST4</option>
                    <option>TEST5</option>
                    <option>TEST6</option>
                    <option>TEST7</option>
                    <option>TEST8</option>
                    <option>TEST9</option>
                    <option>극동대학교</option>
                    <option>진천군청</option>
                    <option>청주산단</option>
                    <option>충북TP_1차</option>
                    <option>충북TP_2차</option>
                    <option>충북TP_LTE</option>
                    <option>태양광기술센터</option>
                </select>
            </div>

            <!-- 메뉴 -->
            <ul class="nav-menu">
                <li><a href="#">점검관리</a></li>
                <li><a href="#">발전소현황</a></li>
                <li><a href="#">장애정보</a></li>
                <li><a href="#">발전소관리</a></li>
                <li><a href="#">사용자관리</a></li>
            </ul>
        </div>
    </div>
    <div class="container">
        <!-- First row: 4 divs -->
        <div class="row" style="
        border-radius: 8px; flex: 1;
        text-align: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <div style="background-color: #3C3C3C;border-radius: 8px;">
                <p>발전소 이미지</p>
                <div class="image-container">
                    <div class="chart-container">
                        <canvas id="efficiencyChart"></canvas>
                    </div>
                </div>
            </div>
            <div style="background-color: #3C3C3C;border-radius: 8px;">
                <p>현재 출력량</p>
                <div class="chart"></div>
                <p>현재 출력: 0.00 kWh</p>
            </div>
            <div style="background-color: #3C3C3C;border-radius: 8px;">
                <!-- 발전 현황 Section -->
        <div class="row" style=" flex: 1; text-align: center; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <div style="background-color: #3C3C3C; width: 100%; /* 부모 요소에 맞게 너비 조정 */
            padding-left: 10px;
            padding-right: 10px;
            "
            >
                <p>발전 현황</p>
                <div class="table-container">
                    <table>
                        <tbody>
                            <tr>
                                <td>금일발전량</td>
                                <td>kWh</td>
                                <td>금일</td>
                                <td>kWh</td>
                            </tr>
                            <tr>
                                <td>전일발전량</td>
                                <td>kWh</td>
                                <td>전일</td>
                                <td>kWh</td>
                            </tr>
                            <tr>
                                <td>금월발전량</td>
                                <td>kWh</td>
                                <td>금월(평균)</td>
                                <td>kWh</td>
                            </tr>
                            <tr>
                                <td>금월발전량</td>
                                <td>kWh</td>
                                <td>금월(평균)</td>
                                <td>kWh</td>
                            </tr>
                            <tr>
                                <td>누적발전량</td>
                                <td>MWh</td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
            </div>
            <div style="background-color: #3C3C3C;border-radius: 8px;">
                <p>나무 심는 효과</p>
                <!-- 나무 심는 효과 Section -->
        <div class="tree-effect-container">
            <div class="tree-image">
                <img src="../assets/image/나무.svg" alt="나무 이미지" style="width: 100%; height: auto; max-width: 150px;">
            </div>
            <div class="tree-info">
                <div>
                    <strong>나무</strong><br>7.4그루                
                </div>
                <div>
                    <strong>누적 CO2 저감량</strong><br>0.00 Ton
                </div>
            </div>
        </div>
            </div>
        </div>

        <!-- Second row: 2 divs -->
        <div class="row" style="
            border-radius: 8px; flex: 1;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);" >
            <div style="background-color: #3C3C3C;border-radius: 8px;" >
            <p>발전소 정보</p>
            <div class="sub-section">
                <div class="sub-section-item">
                    <div class="sub-section-title">지역</div>
                    <div class="sub-section-value">경남</div>
                </div>
                <div class="sub-section-item">
                    <div class="sub-section-title">주소</div>
                    <div class="sub-section-value">경상남도 양산시 석계면 석계리 553-3</div>
                </div>
                <div class="sub-section-item">
                    <div class="sub-section-title">기상추가 여부</div>
                    <div class="sub-section-value">미등록</div>
                </div>
                <div class="sub-section-item">
                    <div class="sub-section-title">인버터 제조사</div>
                    <div class="sub-section-value">금메달자</div>
                </div>
                <div class="sub-section-item">
                    <div class="sub-section-title">지역</div>
                    <div class="sub-section-value">경남</div>
                </div>
            </div>
            </div>
            <div style="background-color: #3C3C3C;border-radius: 8px;">
                <p>출력 정보</p>
                <div class="chart"></div>
            </div>
        </div>

        <!-- Third row: 2 divs -->
        <div class="row" style="
        border-radius: 8px; flex: 1;
        text-align: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);" >
            <div style="background-color: #3C3C3C;border-radius: 8px;">
                <p>인버터 출력 상태</p>
                <div class="chart"></div>
            </div>
            <div style="background-color: #3C3C3C;border-radius: 8px;">
                <p>장애/환경 정보</p>
                <div class="chart"></div>
            </div>
        </div>

        <!-- Fourth row: 1 div -->
        <div class="row" style="
        border-radius: 8px; flex: 1;
        text-align: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <div style="background-color: #3C3C3C;border-radius: 8px;">
                <p>일일 발전량</p>
                <div class="chart"></div>
            </div>
        </div>
    </div>
</body>
<script>
    const fetchChartData = async () => {
        return {
            labels: ["항목1", "항목2", "항목3", "항목4"],
            datasets: [
                {
                    label: "데이터셋 1",
                    data: [4, 3, 5, 2],
                    backgroundColor: "#1f77b4"
                },
                {
                    label: "데이터셋 2",
                    data: [2, 4, 3, 6],
                    backgroundColor: "#ff7f0e"
                },
                {
                    label: "데이터셋 3",
                    data: [3, 2, 4, 1],
                    backgroundColor: "#2ca02c"
                }
            ]
        };
    };

    const createChart = async () => {
        const data = await fetchChartData();

        const ctx = document.getElementById('efficiencyChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: data.labels,
                datasets: data.datasets
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        ticks: { color: '#fff' }
                    },
                    y: {
                        ticks: { color: '#fff' }
                    }
                },
                plugins: {
                    legend: {
                        labels: { color: '#fff' }
                    },
                    title: {
                        display: true,
                        text: '발전소 발전효율 [월]',
                        color: '#fff',
                        font: { size: 16 }
                    }
                }
            }
        });
    };

    createChart();
</script>

</html>